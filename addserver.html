<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Add Server (Hidden)</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body { font-family: 'Press Start 2P', cursive; margin:0; background:black; color:#00ff00; text-align:center; }
main { margin-top:50px; }
input, textarea, select, button { display:block; margin:10px auto; padding:10px; width:60%; border:none; border-radius:5px; font-family:inherit; font-size:10px; background:black; color:#00ff00; border:1px solid #00ff00; }
button { background:#00ff00; color:black; cursor:pointer; }
button:hover{ opacity:0.8; }
</style>
</head>
<body>

<main>
<h2>Add New Server</h2>
<form id="serverForm">
<input type="password" id="pass" placeholder="Enter admin password" required>
<input type="text" id="name" placeholder="Server Name" required>
<input type="text" id="addr" placeholder="Server Address" required>
<input type="text" id="port" placeholder="Port (Optional)">
<select id="verType" required>
<option value="">Select Version Type</option>
<option value="Java">Java</option>
<option value="Bedrock">Bedrock</option>
</select>
<select id="status" required>
<option value="Online">Online</option>
<option value="Offline">Offline</option>
</select>
<input type="text" id="version" placeholder="Server Version" required>
<textarea id="desc" placeholder="Server Description" required></textarea>
<label>Server Picture</label>
<input type="file" id="imgFile" accept="image/*" required>
<button type="submit">Add Server</button>
</form>
</main>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyD_LtDCU_fI1LazKYuuFBHf4tC_pzHAiCw",
  authDomain: "omanwebsite-ae60c.firebaseapp.com",
  projectId: "omanwebsite-ae60c",
  storageBucket: "omanwebsite-ae60c.firebasestorage.app",
  messagingSenderId: "554330436845",
  appId: "1:554330436845:web:5e9e90857410848ee488e4"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const password="0021";

document.getElementById('serverForm').addEventListener('submit', e=>{
    e.preventDefault();
    if(document.getElementById('pass').value!==password){alert('Wrong password!');return;}
    const name=document.getElementById('name').value;
    const addr=document.getElementById('addr').value;
    const port=document.getElementById('port').value;
    const verType=document.getElementById('verType').value;
    const status=document.getElementById('status').value;
    const version=document.getElementById('version').value;
    const desc=document.getElementById('desc').value;
    const fileInput=document.getElementById('imgFile');
    if(fileInput.files.length===0){alert('Choose an image'); return;}
    const reader=new FileReader();
    reader.onload=function(e){
        db.collection('servers').add({name,addr,port,verType,status,version,desc,img:e.target.result})
        .then(()=>{alert('Server added!'); document.getElementById('serverForm').reset();});
    };
    reader.readAsDataURL(fileInput.files[0]);
});
</script>

</body>
</html>
