<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel - MineServer Network</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Press Start 2P', cursive;
    background: black;
    color: #00ff00;
    margin: 0;
    text-align: center;
}
header {
    background-color: #111;
    border-bottom: 2px solid #00ff00;
    padding: 20px 0;
}
header h1 {
    font-size: 20px;
    margin: 0;
    text-shadow: 0 0 5px #00ff00;
}
main {
    padding: 20px;
}
.server-list {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
}
.server {
    background: rgba(0,0,0,0.85);
    border: 2px solid #00ff00;
    padding: 15px;
    width: 220px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 0 10px #00ff00;
    transition: 0.3s;
}
.server:hover {
    box-shadow: 0 0 20px #00ff00;
}
.server img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 10px;
}
.server p {
    margin: 5px 0;
    word-break: break-word;
}
.server button {
    padding: 5px 10px;
    margin: 3px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background: #00ff00;
    color: #000;
    font-weight: bold;
    transition: 0.2s;
}
.server button:hover {
    background: #0f0;
}
.stats, .admin-actions, .admin-message {
    margin: 20px auto;
    padding: 15px;
    border: 2px solid #00ff00;
    border-radius: 8px;
    width: 90%;
    max-width: 600px;
    text-align: left;
}
.admin-message textarea {
    width: 100%;
    height: 80px;
    background: black;
    color: #00ff00;
    border: 1px solid #00ff00;
    border-radius: 5px;
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    padding: 5px;
}
.admin-message button {
    margin-top: 5px;
    width: 100%;
}
.footer {
    margin-top: 20px;
    font-size: 10px;
    color: #00ff00;
    border-top: 1px solid #00ff00;
    padding: 10px;
}
.search-box input {
    width: 200px;
    padding: 5px;
    border: 1px solid #00ff00;
    border-radius: 5px;
    background: black;
    color: #00ff00;
    font-family: 'Press Start 2P', cursive;
    margin-bottom: 10px;
}
</style>
</head>
<body>

<header>
<h1>Admin Panel</h1>
</header>

<main>
<h2>Server Control</h2>

<div class="search-box">
<input type="text" id="searchInput" placeholder="Search servers by name...">
</div>

<div class="server-list" id="server-list"></div>

<div class="stats" id="stats">
<h3>Statistics</h3>
<p>Total Servers: 0</p>
<p>Online: 0</p>
<p>Offline: 0</p>
<p>Java: 0 | Bedrock: 0</p>
</div>

<div class="admin-actions">
<h3>Admin Actions</h3>
<button id="exportBtn">Export Servers JSON</button>
<button id="clearBtn">Clear All Servers</button>
</div>

<div class="admin-message">
<h3>Admin Notes</h3>
<textarea id="adminNotes" placeholder="Write your notes here..."></textarea>
<button onclick="saveNotes()">Save Notes</button>
</div>

<div class="footer">Â© 2025 MineServer Network - Admin Panel</div>
</main>

<script>
const password = "0021";
if(prompt("Enter admin password:") !== password){
    alert("Access Denied");
    document.body.innerHTML="<h2 style='color:red;margin-top:50px;'>Access Denied</h2>";
}

// Load servers
let servers = JSON.parse(localStorage.getItem('servers') || '[]');
const serverList = document.getElementById('server-list');
const searchInput = document.getElementById('searchInput');
const statsDiv = document.getElementById('stats');

function renderServers(filter=''){
    serverList.innerHTML = '';
    let totalOnline = 0, totalOffline = 0, totalJava = 0, totalBedrock = 0;

    servers.forEach((s,i)=>{
        if(!s.name.toLowerCase().includes(filter.toLowerCase())) return;
        const div = document.createElement('div');
        div.className='server';
        div.innerHTML = `
            <img src="${s.img}" alt="${s.name}">
            <h3>${s.name}</h3>
            <p>${s.addr}${s.port?':'+s.port:''}</p>
            <p>Status: <span>${s.status||'Offline'}</span></p>
            <p>Version: ${s.version||'Unknown'} (${s.verType||'Unknown'})</p>
            <button onclick="toggleStatus(${i})">Toggle Status</button>
            <button onclick="removeServer(${i})">Remove</button>
            <button onclick="copyAddr(${i})">Copy Address</button>
        `;
        serverList.appendChild(div);

        // Stats
        if(s.status==='Online') totalOnline++; else totalOffline++;
        if(s.verType==='Java') totalJava++; else if(s.verType==='Bedrock') totalBedrock++;
    });

    statsDiv.innerHTML = `<h3>Statistics</h3>
        <p>Total Servers: ${servers.length}</p>
        <p>Online: ${totalOnline}</p>
        <p>Offline: ${totalOffline}</p>
        <p>Java: ${totalJava} | Bedrock: ${totalBedrock}</p>`;
}

function toggleStatus(index){
    servers[index].status = servers[index].status==='Online'?'Offline':'Online';
    localStorage.setItem('servers', JSON.stringify(servers));
    renderServers(searchInput.value);
}

function removeServer(index){
    if(confirm(`Remove ${servers[index].name}?`)){
        servers.splice(index,1);
        localStorage.setItem('servers', JSON.stringify(servers));
        renderServers(searchInput.value);
    }
}

function copyAddr(index){
    const addr = servers[index].addr + (servers[index].port?':'+servers[index].port:'');
    navigator.clipboard.writeText(addr).then(()=>alert('Address copied!'));
}

// Export JSON
document.getElementById('exportBtn').addEventListener('click',()=>{
    const blob = new Blob([JSON.stringify(servers,null,2)],{type:"application/json"});
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'servers.json';
    link.click();
});

// Clear all servers
document.getElementById('clearBtn').addEventListener('click',()=>{
    if(confirm("Are you sure you want to delete all servers?")){
        servers = [];
        localStorage.setItem('servers', JSON.stringify(servers));
        renderServers(searchInput.value);
    }
});

// Search filter
searchInput.addEventListener('input', ()=> renderServers(searchInput.value));

// Admin notes
function saveNotes(){
    localStorage.setItem('adminNotes', document.getElementById('adminNotes').value);
    alert('Notes saved!');
}
document.getElementById('adminNotes').value = localStorage.getItem('adminNotes') || '';

renderServers();
</script>

</body>
</html>
