<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel - MineServer Network</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body { font-family: 'Press Start 2P', cursive; background: black; color: #00ff00; margin: 0; text-align: center; }
header { background-color: #111; border-bottom: 2px solid #00ff00; padding: 20px 0; }
header h1 { font-size: 20px; margin: 0; text-shadow: 0 0 5px #00ff00; }
main { padding: 20px; }
.search-box input { width: 200px; padding: 5px; border: 1px solid #00ff00; border-radius: 5px; background: black; color: #00ff00; font-family: 'Press Start 2P', cursive; margin-bottom: 10px; }
.server-list { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
.server { background: rgba(0,0,0,0.85); border: 2px solid #00ff00; padding: 15px; width: 250px; border-radius: 10px; text-align: center; box-shadow: 0 0 10px #00ff00; transition: 0.3s; }
.server:hover { box-shadow: 0 0 20px #00ff00; }
.server img { width: 100px; height: 100px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; }
.server p { margin: 5px 0; word-break: break-word; }
.server input, .server select, .server textarea { width: 90%; margin: 3px 0; padding: 5px; border: 1px solid #00ff00; border-radius: 5px; background: black; color: #00ff00; font-family: 'Press Start 2P', cursive; font-size: 12px; }
.server button { padding: 5px 10px; margin: 3px; border: none; border-radius: 5px; cursor: pointer; background: #00ff00; color: #000; font-weight: bold; transition: 0.2s; }
.server button:hover { background: #0f0; }
.stats, .admin-actions, .admin-message, .add-server { margin: 20px auto; padding: 15px; border: 2px solid #00ff00; border-radius: 8px; width: 90%; max-width: 600px; text-align: left; }
.admin-message textarea { width: 100%; height: 80px; background: black; color: #00ff00; border: 1px solid #00ff00; border-radius: 5px; font-family: 'Press Start 2P', cursive; font-size: 12px; padding: 5px; }
.admin-message button, .add-server button { margin-top: 5px; width: 100%; }
.footer { margin-top: 20px; font-size: 10px; color: #00ff00; border-top: 1px solid #00ff00; padding: 10px; }
</style>
</head>
<body>

<header><h1>Admin Panel</h1></header>

<main>
<h2>Server Control</h2>

<div class="search-box">
<input type="text" id="searchInput" placeholder="Search servers by name...">
</div>

<!-- Add Server Section -->
<div class="add-server">
<h3>Add New Server</h3>
<input type="text" id="newName" placeholder="Server Name">
<input type="text" id="newAddr" placeholder="Address">
<input type="text" id="newPort" placeholder="Port (Optional)">
<select id="newVerType">
<option value="">Select Type</option>
<option value="Java">Java</option>
<option value="Bedrock">Bedrock</option>
</select>
<select id="newStatus">
<option value="Online">Online</option>
<option value="Offline">Offline</option>
</select>
<input type="text" id="newVersion" placeholder="Version">
<textarea id="newDesc" placeholder="Description"></textarea>
<input type="text" id="newImg" placeholder="Image URL">
<button onclick="addServer()">Add Server</button>
</div>

<div class="server-list" id="server-list"></div>

<div class="stats" id="stats">
<h3>Statistics</h3>
<p>Total Servers: 0</p>
<p>Online: 0</p>
<p>Offline: 0</p>
<p>Java: 0 | Bedrock: 0</p>
</div>

<div class="admin-actions">
<h3>Admin Actions</h3>
<button id="exportBtn">Export Servers JSON</button>
<button id="clearBtn">Clear All Servers</button>
</div>

<div class="admin-message">
<h3>Admin Notes</h3>
<textarea id="adminNotes" placeholder="Write your notes here..."></textarea>
<button onclick="saveNotes()">Save Notes</button>
</div>

<div class="footer">Â© 2025 MineServer Network - Admin Panel</div>

<script>
const password = "0021";
if(prompt("Enter admin password:") !== password){
    alert("Access Denied");
    document.body.innerHTML="<h2 style='color:red;margin-top:50px;'>Access Denied</h2>";
}

let servers = JSON.parse(localStorage.getItem('servers') || '[]');
const serverList = document.getElementById('server-list');
const searchInput = document.getElementById('searchInput');
const statsDiv = document.getElementById('stats');

function renderServers(filter=''){
    serverList.innerHTML = '';
    let totalOnline = 0, totalOffline = 0, totalJava = 0, totalBedrock = 0;
    servers.forEach((s,i)=>{
        if(!s.name.toLowerCase().includes(filter.toLowerCase())) return;
        const div = document.createElement('div');
        div.className='server';
        div.innerHTML = `
            <img src="${s.img}" alt="${s.name}">
            <input type="text" value="${s.name}">
            <input type="text" value="${s.addr}">
            <input type="text" value="${s.port}">
            <select>
                <option value="Java" ${s.verType==='Java'?'selected':''}>Java</option>
                <option value="Bedrock" ${s.verType==='Bedrock'?'selected':''}>Bedrock</option>
            </select>
            <select>
                <option value="Online" ${s.status==='Online'?'selected':''}>Online</option>
                <option value="Offline" ${s.status==='Offline'?'selected':''}>Offline</option>
            </select>
            <input type="text" value="${s.version||''}" placeholder="Version">
            <textarea>${s.desc}</textarea>
            <input type="text" value="${s.img}" placeholder="Image URL">
            <button onclick="saveServer(${i}, this)">Save</button>
            <button onclick="removeServer(${i})">Remove</button>
            <button onclick="copyAddr(${i})">Copy Address</button>
        `;
        serverList.appendChild(div);
        if(s.status==='Online') totalOnline++; else totalOffline++;
        if(s.verType==='Java') totalJava++; else if(s.verType==='Bedrock') totalBedrock++;
    });

    statsDiv.innerHTML = `<h3>Statistics</h3>
        <p>Total Servers: ${servers.length}</p>
        <p>Online: ${totalOnline}</p>
        <p>Offline: ${totalOffline}</p>
        <p>Java: ${totalJava} | Bedrock: ${totalBedrock}</p>`;
}

function addServer(){
    const newServer = {
        name: document.getElementById('newName').value,
        addr: document.getElementById('newAddr').value,
        port: document.getElementById('newPort').value,
        verType: document.getElementById('newVerType').value,
        status: document.getElementById('newStatus').value,
        version: document.getElementById('newVersion').value,
        desc: document.getElementById('newDesc').value,
        img: document.getElementById('newImg').value
    };
    if(!newServer.name || !newServer.addr || !newServer.verType || !newServer.status){
        alert('Please fill all required fields!');
        return;
    }
    servers.push(newServer);
    localStorage.setItem('servers', JSON.stringify(servers));
    renderServers(searchInput.value);
    alert('Server added!');
    document.getElementById('newName').value='';
    document.getElementById('newAddr').value='';
    document.getElementById('newPort').value='';
    document.getElementById('newVerType').value='';
    document.getElementById('newStatus').value='Online';
    document.getElementById('newVersion').value='';
    document.getElementById('newDesc').value='';
    document.getElementById('newImg').value='';
}

function saveServer(index, btn){
    const div = btn.parentElement;
    const inputs = div.querySelectorAll('input[type=text]');
    const selects = div.querySelectorAll('select');
    const textarea = div.querySelector('textarea');
    servers[index].name = inputs[0].value;
    servers[index].addr = inputs[1].value;
    servers[index].port = inputs[2].value;
    servers[index].verType = selects[0].value;
    servers[index].status = selects[1].value;
    servers[index].version = inputs[3].value;
    servers[index].desc = textarea.value;
    servers[index].img = inputs[4].value;
    localStorage.setItem('servers', JSON.stringify(servers));
    renderServers(searchInput.value);
    alert('Server updated!');
}

function removeServer(index){
    if(confirm(`Remove ${servers[index].name}?`)){
        servers.splice(index,1);
        localStorage.setItem('servers', JSON.stringify(servers));
        renderServers(searchInput.value);
    }
}

function copyAddr(index){
    const addr = servers[index].addr + (servers[index].port?':'+servers[index].port:'');
    navigator.clipboard.writeText(addr);
    alert('Address copied!');
}

searchInput.addEventListener('input',()=>renderServers(searchInput.value));

document.getElementById('exportBtn').onclick = ()=>{
    const dataStr = JSON.stringify(servers,null,2);
    const blob = new Blob([dataStr], {type: "application/json"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href=url;
    a.download='servers_backup.json';
    a.click();
    URL.revokeObjectURL(url);
};

document.getElementById('clearBtn').onclick = ()=>{
    if(confirm("Clear all servers? This cannot be undone.")){
        servers=[];
        localStorage.setItem('servers', JSON.stringify(servers));
        renderServers(searchInput.value);
    }
};

function saveNotes(){
    const notes = document.getElementById('adminNotes').value;
    localStorage.setItem('adminNotes', notes);
    alert('Notes saved!');
}

document.getElementById('adminNotes').value = localStorage.getItem('adminNotes')||'';

renderServers();
</script>
</body>
</html>
