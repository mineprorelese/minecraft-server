<!-- Search Box (Centered) -->
<div class="search-box" style="text-align:center;">
  <input type="text" id="searchInput" placeholder="Search servers by name...">
</div>

<!-- Admin Notes (Bigger, Black background) -->
<div class="admin-message">
  <h3>Pinned Announcements</h3>
  <textarea id="adminNotes" placeholder="Write admin notes..." style="width:100%; height:150px; background:black; color:#00ff00; font-family:'Press Start 2P', cursive; font-size:14px; padding:10px; border:2px solid #00ff00; border-radius:8px;"></textarea>
  <button onclick="saveNotes()">Save Notes</button>
</div>

<!-- Updated renderServers to include status toggle button -->
<script>
function renderServers(filter=''){
    serverList.innerHTML='';
    let online=0, offline=0, java=0, bedrock=0;
    servers.forEach((s,i)=>{
        if(!s.name.toLowerCase().includes(filter.toLowerCase())) return;
        const div=document.createElement('div'); div.className='server';
        div.innerHTML=`
        <span class="server-status ${s.status.toLowerCase()}"></span>
        <strong>${s.name}</strong>
        <div class="server-details">
          <img src="${s.img}">
          <input type="text" value="${s.addr}">
          <input type="text" value="${s.port}">
          <select><option value="Java" ${s.verType==='Java'?'selected':''}>Java</option><option value="Bedrock" ${s.verType==='Bedrock'?'selected':''}>Bedrock</option></select>
          <button onclick="toggleStatus(${i})">Toggle Status</button>
          <input type="text" value="${s.version||''}" placeholder="Version">
          <textarea>${s.desc}</textarea>
          <input type="text" value="${s.img}" placeholder="Image URL">
          <button onclick="saveServer(${i}, this)">Save</button>
          <button onclick="removeServer(${i})">Remove</button>
          <button onclick="copyAddr(${i})">Copy Address</button>
        </div>`;
        div.addEventListener('click',()=>{div.classList.toggle('collapsed');});
        serverList.appendChild(div);
        if(s.status==='Online') online++; else offline++;
        if(s.verType==='Java') java++; else if(s.verType==='Bedrock') bedrock++;
    });
    statsDiv.innerHTML=`<h3>Statistics</h3><p>Total: ${servers.length}</p><p>Online: ${online}</p><p>Offline: ${offline}</p><p>Java: ${java} | Bedrock: ${bedrock}</p>`;
}

// Toggle server status function
function toggleStatus(i){
    servers[i].status = (servers[i].status==='Online') ? 'Offline' : 'Online';
    localStorage.setItem('servers', JSON.stringify(servers));
    renderServers(searchInput.value);
    logActivity(`Server "${servers[i].name}" status toggled to ${servers[i].status}`);
    toast(`Server "${servers[i].name}" is now ${servers[i].status}`);
}
</script>
