<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>OMAN SERVERS</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body {font-family: 'Press Start 2P', cursive; margin:0; background:black; color:#00ff00; text-align:center;}
header {background:#111; border-bottom:2px solid #00ff00; padding:15px 0;}
header h1 {margin:0; color:#00ff00;}
nav a {color:#00ff00; margin:0 15px; text-decoration:none;}
nav a:hover {text-decoration:underline;}
main {padding:20px; max-width:1000px; margin:auto;}
.server-list {display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin-top:20px;}
.server {background:rgba(0,0,0,0.85); border:2px solid #00ff00; padding:10px; border-radius:8px; width:250px; text-align:center;}
.server img {width:100px; height:100px; object-fit:cover; margin-bottom:5px;}
.status-online {color:blue; font-weight:bold;}
.status-offline {color:red; font-weight:bold;}
</style>
</head>
<body>

<header>
<h1>OMAN SERVERS</h1>
<nav><a href="index.html">Home</a></nav>
</header>

<main>
<div class="server-list" id="server-list"></div>
</main>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyD_LtDCU_fI1LazKYuuFBHf4tC_pzHAiCw",
  authDomain: "omanwebsite-ae60c.firebaseapp.com",
  projectId: "omanwebsite-ae60c",
  storageBucket: "omanwebsite-ae60c.firebasestorage.app",
  messagingSenderId: "554330436845",
  appId: "1:554330436845:web:5e9e90857410848ee488e4"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const serverList = document.getElementById('server-list');

function renderServers(snapshot){
    serverList.innerHTML = '';
    snapshot.forEach(doc => {
        const s = doc.data();
        const div = document.createElement('div');
        div.className='server';
        const statusClass = s.status==='Online'?'status-online':'status-offline';
        div.innerHTML = `
            <h4>${s.name}</h4>
            <div class="${statusClass}">Status: ${s.status}</div>
            <img src="${s.img}">
            <p>Address: ${s.addr}${s.port?':'+s.port:''}</p>
            <p>Version: ${s.verType} ${s.version}</p>
            <p>${s.desc}</p>
        `;
        serverList.appendChild(div);
    });
}

db.collection('servers').onSnapshot(snapshot=>{
    renderServers(snapshot);
});
</script>

</body>
</html>
